<ui:composition template="/layout.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
  xmlns:dg="http://deegree.org/jsf" xmlns:dgc="http://xmlns.jcp.org/jsf/composite/deegree" xmlns:p="http://primefaces.org/ui">
  <ui:define name="center">
    <p:outputPanel>
      <fieldset class="fieldset">
        <legend>
          <h:outputText styleClass="title" value="Create new SQL feature store" />
        </legend>
        <h:form>
          <div>
            <p>
              Place your schema files here: <br />
              <h:outputText styleClass="title" value="#{mappingWizardSQL.appSchemaDirectory}" />
              <br />
            </p>
            <p:outputPanel id="schemaFiles">
              <p:outputPanel rendered="#{empty mappingWizardSQL.availableAppSchemaFiles}">
                <p>
                  No schema files found.
                  <h:commandLink styleClass="ui-button buttonCreateNew" value="Rescan">
                    <f:ajax render="schemaFiles" />
                  </h:commandLink>
                </p>
              </p:outputPanel>
              <p:outputPanel rendered="#{! empty mappingWizardSQL.availableAppSchemaFiles}">
                <p>
                  Choose one or more schema file(s).
                  <h:commandLink styleClass="ui-button buttonCreateNew" value="Rescan">
                    <f:ajax render="schemaFiles" />
                  </h:commandLink>
                  <br />
                  <h:selectManyCheckbox styleClass="label" value="#{mappingWizardSQL.selectedAppSchemaFiles}"
                    layout="pageDirection">
                    <f:selectItems value="#{mappingWizardSQL.availableAppSchemaFiles}" />
                  </h:selectManyCheckbox>
                </p>
              </p:outputPanel>
            </p:outputPanel>
          </div>
          <div>
            <p:commandButton styleClass="ui-button buttonCreateNew" value="Back" action="/console/featurestore/sql/wizard" update=":container" global="false" />
            <p:commandButton styleClass="ui-button buttonCreateNew" value="Next" action="#{mappingWizardSQL.analyzeSchema}"
              onclick="show();" update=":container" global="false" />
          </div>
        </h:form>
      </fieldset>
    </p:outputPanel>
  </ui:define>
</ui:composition>
