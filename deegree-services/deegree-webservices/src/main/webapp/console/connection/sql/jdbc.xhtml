<ui:composition template="/layout.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
  <ui:define name="center">
    <h:panelGroup rendered="#{!logBean.loggedIn}">
      <ui:include src="accessForbidden.xhtml" />
    </h:panelGroup>
    <h:panelGroup rendered="#{logBean.loggedIn}">
      <fieldset class="fieldset">
        <legend>
          <h:outputText styleClass="titel" value="jdbc" />
        </legend>
        <h:form>
          <table style="font-size: small" border="0">
            <tr>
              <td />
            </tr>
            <tr>
              <td />
            </tr>
            <tr>
              <td><h:outputText value="DB type: " /></td>
              <td><h:selectOneMenu value="#{jdbcBean.dbType}">
                  <f:selectItem itemValue="mssql" itemLabel="MSSQL" />
                  <f:selectItem itemValue="oracle" itemLabel="Oracle" />
                  <f:selectItem itemValue="postgis" itemLabel="PostGIS" />
                </h:selectOneMenu></td>
            </tr>
            <tr>
              <td><h:outputText value="Host: " /></td>
              <td><h:inputText id="dbHost" size="15" required="true" value="#{jdbcBean.dbHost}" /></td>
            </tr>
            <tr>
              <td><h:outputText value="Port: " /></td>
              <td><h:inputText id="dbPort" size="5" required="true" value="#{jdbcBean.dbPort}" /></td>
            </tr>
            <tr>
              <td><h:outputText value="DB name: " /></td>
              <td><h:inputText id="dbName" size="20" required="true" value="#{jdbcBean.dbName}" /></td>
            </tr>
            <tr>
              <td><h:outputText value="Preview: " /></td>
              <td><h:inputText value="#{jdbcBean.dbConn}" /></td>
            </tr>
            <tr>
              <td><h:outputText value="Username: " /></td>
              <td><h:inputText value="#{jdbcBean.dbUser}" /></td>
            </tr>
            <tr>
              <td><h:outputText value="Password: " /></td>
              <td><h:inputSecret redisplay="false" value="#{jdbcBean.dbPwd}" /></td>
            </tr>
          </table>
        </h:form>
        <h:form>
          <div>
            <h:commandButton styleClass="buttonInfo" rendered="#{config.state=='init_ok'}" value="#{labels.jdbc_test}"
              action="#{connectionTester.test}" alt="#{config.id}">
              <f:setPropertyActionListener target="#{actionParams.param1}" value="#{config.id}" />
            </h:commandButton>
          </div>
        </h:form>
      </fieldset>
    </h:panelGroup>
  </ui:define>
</ui:composition>
