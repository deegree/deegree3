<ui:composition template="/layout.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:p="http://primefaces.org/ui">
  <ui:define name="center">
    <f:view>
      <p:outputPanel>
        <fieldset class="fieldset">
          <legend>
            <h:outputText styleClass="title" value="SQL database connections" />
          </legend>
          <h:form>
            <table style="font-size: small; margin-bottom: 20px">
              <ui:repeat value="#{sqlConnectionManagerBean.configs}" var="config">
                <tr align="left">
                  <td><p:outputLabel styleClass="ui-button buttonActivate" rendered="#{config.state=='Initialized'}"
                      value="#{labels.featureStores_deactivate}" /> <p:outputLabel styleClass="ui-button buttonDeactivate"
                      rendered="#{config.state!='Error' and config.state!='Initialized'}" value="#{labels.featureStores_activate}" /> <p:outputLabel
                      styleClass="ui-button buttonError" rendered="#{config.state=='Error'}" value="!" /></td>
                  <td />
                  <td><p:outputLabel styleClass="ui-button buttonDeactivate" value="#{config.id}" /></td>
                  <td><p:commandButton styleClass="ui-button buttonInfo" rendered="#{config.state=='Initialized'}"
                      value="Deactivate" action="#{config.deactivate}" update=":container" global="false" /> <p:commandButton styleClass="ui-button buttonInfo"
                      rendered="#{config.state!='Error' and config.state!='Initialized'}" value="Activate" action="#{config.activate}" update=":container" global="false" /></td>
                  <td><p:commandButton styleClass="ui-button buttonEdit" value="#{labels.featureStores_edit}"
                      action="#{config.edit}" update=":container" global="false" /></td>
                  <td><p:commandButton styleClass="ui-button buttonDelete" value="#{labels.featureStores_delete}"
                      action="#{config.delete}" onclick="return confirmDelete();" update=":container" global="false" /></td>
                  <td><p:commandButton styleClass="ui-button buttonError" rendered="#{config.state=='Error'}"
                      value="Show errors" action="#{config.showErrors}" update=":container" global="false" /></td>
                </tr>
              </ui:repeat>
            </table>
          </h:form>
          <h:form>
            <p:link styleClass="ui-button buttonCreateNew" value="#{labels.featureStores_new}" outcome="create" />
          </h:form>
        </fieldset>
      </p:outputPanel>
    </f:view>
  </ui:define>
</ui:composition>
