<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions">

<h:head />

<f:metadata>
  <f:viewParam name="id" value="#{xmlEditorBean.id}" />
  <f:viewParam name="fileName" value="#{xmlEditorBean.fileName}" />
  <f:viewParam name="schemaUrl" value="#{xmlEditorBean.schemaUrl}" />
  <f:viewParam name="resourceProviderClass" value="#{xmlEditorBean.resourceProviderClass}" />
  <f:viewParam name="nextView" value="#{xmlEditorBean.nextView}" />
  <f:viewParam name="emptyTemplate" value="#{xmlEditorBean.emptyTemplate}" />
</f:metadata>

<h:body>
  <ui:composition template="/layout.xhtml">
    <ui:define name="center">
      <h:form styleClass="form-main">
      	<p:outputPanel id="xmleditor-title" layout="block">
        	<h:outputText value="Editing XML resource: ${xmlEditorBean.title}" />
        </p:outputPanel>
        <p:outputPanel id="xmleditor" layout="block">
          <p:outputPanel id="xmleditor-actions" layout="block">
            <p:commandButton styleClass="ui-button buttonSave" value="#{labels.xmlEditor_save}" onclick="save()"
              action="${xmlEditorBean.save}" update=":container" global="false" />
            <p:commandButton styleClass="ui-button buttonCancel" value="#{labels.xmlEditor_cancel}"
              action="${xmlEditorBean.cancel}" update=":container" global="false" />
            <p:commandButton styleClass="ui-button buttonCancel" value="Validate" onclick="save()"
              action="${xmlEditorBean.validate}" update=":container" global="false">
              <f:ajax execute="xmltextarea" />
            </p:commandButton>
          </p:outputPanel>
          <p:outputPanel id="xmleditor-input" layout="block">
            <pe:codeMirror id="xmltextarea" mode="xml" theme="ambiance" lineNumbers="true" matchBrackets="true"
                           cols="80" rows="25" value="${xmlEditorBean.content}" />
          </p:outputPanel>
        </p:outputPanel>
      </h:form>
    </ui:define>
  </ui:composition>
</h:body>
</html>
